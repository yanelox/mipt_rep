#include <stdio.h>

int main()
{
	int a[2][2] = {};

	int b[2][2] = {};

	int c[2][2] = {};

	int n = 0, m = 0, i = 0, j = 0;

	for(i = 0; i < 2; i++)
		for(j = 0; j < 2; j++)
			scanf("%d", &(a[i][j]));

	scanf("%d %d", &n, &m);

	for(i = 0; i < 2; i++)
                for(j = 0; j < 2; j++)
			b[i][j] = a[i][j];

	
	for(i = 0; i < n - 1; i++)
	{
		c[0][0] = (a[0][0] * b[0][0] + a[0][1] * b[1][0]) % m;
		c[0][1] = (a[0][0] * b[0][1] + a[0][1] * b[1][1]) % m;
		c[1][0] = (a[1][0] * b[0][0] + a[1][1] * b[1][0]) % m;
		c[1][1] = (a[1][0] * b[0][1] + a[1][1] * b[1][1]) % m;

		a[0][0] = c[0][0];
		a[0][1] = c[0][1];
		a[1][0] = c[1][0];
		a[1][1] = c[1][1];
	}

	printf("%d %d %d %d", a[0][0], a[0][1], a[1][0], a[1][1]);
}
